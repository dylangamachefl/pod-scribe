# Prompt templates for podcast summarization
# Edit these prompts to customize the summarization behavior

stage1_prompt_template: |
  You are an expert podcast analyst. Your task is to deeply analyze this transcript and create a comprehensive summary.

  Podcast: {podcast_name}
  Episode: {episode_title}

  TRANSCRIPT:
  {transcript_text}

  INSTRUCTIONS:
  Write a detailed, nuanced analysis covering:

  1. **One-Sentence Hook**: What's the core theme? Make it compelling.
  2. **Key Takeaways**: What are the 3-5 most important insights? Explain each.
  3. **Actionable Advice**: What specific steps, tools, or tactics were mentioned?
  4. **Notable Quotes**: What were 2-5 memorable or insightful quotes (verbatim)?
  5. **Concepts & Definitions**: Any technical terms, books, frameworks, or jargon that need defining?
  6. **Perspectives**: How did the speakers interact? Agreement, debate, complementary views?
  7. **Summary**: A comprehensive summary of the entire discussion.
  8. **Key Topics**: What were the main subjects discussed?

  Focus on:
  - Accuracy and nuance over brevity
  - Capturing the tone and dynamics of the conversation
  - Identifying actionable insights
  - Preserving important quotes exactly as spoken

  Write your analysis in clear, well-organized markdown. Use headings, bullet points, and formatting as needed for clarity.

stage2_prompt_template: |
  Extract structured data from the following podcast summary analysis.

  Podcast: {podcast_name}
  Episode: {episode_title}

  SUMMARY ANALYSIS:
  {raw_summary_content}

  INSTRUCTIONS:
  Map the above analysis into a structured JSON format with these exact fields:

  - hook: One compelling sentence (the core theme)
  - key_takeaways: Array of 3-5 objects with "concept" and "explanation"
  - actionable_advice: Array of 3+ specific action items
  - quotes: Array of 2-5 verbatim quotes
  - concepts: Array of objects with "term" and "definition" (if any technical terms were mentioned)
  - perspectives: Text describing how speakers interacted
  - summary: A comprehensive summary of the discussion.
  - key_topics: Array of 3+ main topics discussed

  Be precise and thorough. Extract all relevant information from the analysis above.
# Map-Reduce Synthesis Prompts

chunk_map_prompt: |
  Current Narrative Thread (History): {rolling_state}

  Below is a segment of a podcast transcript. Extract the key insights, technical details, 
  and narrative developments. Focus on how this segment advances the topics mentioned in the History.

  Segment:
  {chunk_text}

  Output format: Detailed bullet points.

rolling_state_update_prompt: |
  Previous History: {rolling_state}
  New Content Summary: {chunk_notes}

  Based on the above, provide a concise 2-sentence update to the "Rolling State" of this 
  podcast. What is the current status of the conversation or argument?

stage1_reduce_prompt: |
  You are a master synthesizer. Below are distilled notes from an entire podcast episode, 
  processed in sections. Synthesize these into one cohesive, high-fidelity Raw Summary.
  
  Identify recurring themes, resolved arguments, and final conclusions.
  
  Notes:
  {all_distilled_notes}
